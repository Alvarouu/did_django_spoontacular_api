{% extends 'main/base.html' %}
{% load static %}

{% block extend_head %}

{% endblock %}

{% block extend_nav %}

<ul class="sidenav">
  <li><a class="active" href="{% url 'main:home' %}">Home</a></li>
  <li><a href="{% url 'main:results' %}">Resultados</a></li>
  <li><a href="{% url 'main:shopping_list' %}">Lista de la compra</a></li>
</ul>

{% endblock %}


{% block content %}

<h3 id="map">Escaner alergenos-Resultados</h3>

<div class="container">

    <h4>Resultados de la api para:</h4>
    <h3>Cat: <em style="color: #9c07b6"><b>"{{ cat }}"</b></em></h3>
    <h3>Query: <em style="color: #9c07b6"><b>"{{ query }}"</b></em></h3>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Imagen</th>
                {% if cat == "ingredients" %}
                    <th>AÃ±adir</th>
                {% endif %}
                {% if cat == "recipes" %}
                    <th>Ver receta</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
        {% for item in results %}
            <tr>
                <td>{{ item.id }}</td>
                {% if item.name %}
                    <td>{{ item.name }}</td>
                {% else %}
                    <td>{{ item.title }}</td>
                {% endif %}
                {% if cat == "ingredients" %}
                    <td>No image available</td>

                    <td style="text-align: center; vertical-align: middle;">
                         <a href="{% url 'main:add_to_shopping_list' item.id item.name %}">
                            <i class="fas fa-plus"></i>
                        </a>
                    </td>

                {% else %}
                    <td><img src="{{ item.image }}" style="width:auto; height: 125px"></td>
                {% endif %}
                {% if cat == "recipes" %}
                <td><a>Receta</a></td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

{% block extend_footer %}

{% endblock %}